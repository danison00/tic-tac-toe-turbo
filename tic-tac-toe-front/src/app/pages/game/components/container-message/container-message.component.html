<section
  [ngClass]="{
    'hidden-message-container': hiddenMessageContainer,
    'view-message-container': !hiddenMessageContainer,
    'alert-new-message' : alertNewMessage
  }"
  class="message-container"
>
  <header (click)="toogleMessageContainer()">
    <div style="display: flex; align-items: center; gap: 0.5rem">
      <div>{{ gameService.game.player2.name.split(" ")[0] }}</div>
      <div
        style="
          width: 10px;
          height: 10px;
          border-radius: 50%;
          background-color: rgb(74, 204, 74);
        "
      ></div>
    </div>
    <span
      [ngClass]="{
        rotate: hiddenMessageContainer,
        'rotate-reverse': !hiddenMessageContainer
      }"
      class="arrow-control-message-container rotate"
      
    >
      <svg
        style="width: 20px; height: 12px"
        width="147"
        height="60"
        viewBox="0 0 147 60"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M106.366 34.8699C106.366 34.8699 110.971 31.6572 112.728 30.4316C114.485 29.206 110.112 32.2569 112.728 30.4316L141.676 9.8111C143.504 7.85014 141.656 5.8267 141.656 5.8267C141.656 5.8267 139.62 4.03341 137.461 4.93434L106.324 26.0554C99.962 30.4937 95.6065 33.3915 95.6065 33.3915L71.0124 50.6914C69.2557 51.917 69.2653 53.8901 71.0339 55.0986C72.8024 56.307 75.6601 56.2931 77.4168 55.0675L106.366 34.8699Z"
          fill="#707070"
        />
        <path
          d="M112.728 30.4316C110.971 31.6572 106.366 34.8699 106.366 34.8699L77.4168 55.0675C75.6601 56.2931 72.8024 56.307 71.0339 55.0986C69.2653 53.8901 69.2557 51.917 71.0124 50.6914L95.6065 33.3915C95.6065 33.3915 99.962 30.4937 106.324 26.0554L137.461 4.93434C139.62 4.03341 141.656 5.8267 141.656 5.8267C141.656 5.8267 143.504 7.85014 141.676 9.8111L112.728 30.4316ZM112.728 30.4316C110.112 32.2569 114.485 29.206 112.728 30.4316Z"
          stroke="#707070"
          stroke-width="8"
          stroke-linecap="round"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M47.3706 31.0502C47.3706 31.0502 42.7803 27.9028 41.0291 26.7021C39.278 25.5014 43.6372 28.4904 41.0291 26.7021L10.4715 5.87917C7.9651 4.56429 5.97373 6.34341 5.97373 6.34341C4.47806 7.23536 4.48884 9.447 5.70023 11.0511L33.5902 30.1933L40.9003 35.1863L69.7589 54.9734C71.51 56.1741 74.378 56.2216 76.1648 55.0794C77.9515 53.9373 77.9803 52.038 76.2292 50.8373L47.3706 31.0502Z"
          fill="#707070"
        />
        <path
          d="M41.0291 26.7021C42.7803 27.9028 47.3706 31.0502 47.3706 31.0502L76.2292 50.8373C77.9803 52.038 77.9515 53.9373 76.1648 55.0794C74.378 56.2216 71.51 56.1741 69.7589 54.9734L40.9003 35.1863L33.5902 30.1933L5.70023 11.0511C4.48884 9.447 4.47806 7.23536 5.97373 6.34341C5.97373 6.34341 7.9651 4.56429 10.4715 5.87917L41.0291 26.7021ZM41.0291 26.7021C43.6372 28.4904 39.278 25.5014 41.0291 26.7021Z"
          stroke="#707070"
          stroke-width="8"
          stroke-linecap="round"
        />
      </svg>
    </span>
  </header>
  <div class="body" #messageContainer>
    <message *ngFor="let message of messages" [message]="message"></message>
    <div #endMessage class="end"></div>
  </div>
  <div class="sender-message-box">
    <textarea
      (keydown)="onKeyDown($event)"
      [(ngModel)]="payloadMessage"
      #inputMessage
      placeholder="Mensagem"
      spellcheck="false"
      type="text"
      (input)="resizeTextArea(inputMessage)"
    >
    </textarea>
    <button (click)="sendMessage()">enviar</button>
  </div>
</section>
